(()=>{"use strict";var e={7036:(e,t,n)=>{n.r(t)},6586:(e,t,n)=>{n.r(t)},8582:(e,t,n)=>{n.r(t)},9566:(e,t,n)=>{n.r(t)},5801:(e,t,n)=>{n.r(t)},7459:(e,t,n)=>{n.r(t)},8377:(e,t,n)=>{n.r(t)},5070:(e,t,n)=>{n.r(t)},3603:(e,t,n)=>{n.r(t)},5726:(e,t,n)=>{n.r(t)},71:(e,t,n)=>{n.r(t)},7239:(e,t,n)=>{n.r(t)},2040:(e,t,n)=>{n.r(t)},5190:(e,t,n)=>{n.r(t)},7348:(e,t,n)=>{n.r(t)},4743:(e,t,n)=>{n.r(t)},6478:(e,t,n)=>{n.r(t)},2020:(e,t,n)=>{n.r(t)},1878:(e,t,n)=>{n.r(t)},6930:(e,t,n)=>{n.r(t)},2270:(e,t,n)=>{n.r(t)},6443:(e,t,n)=>{n.r(t)},3822:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.addWinner=void 0;const r=n(6612);t.addWinner=e=>a(void 0,void 0,void 0,(function*(){yield fetch(`${r.BASE_URL}/winners`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}))},8182:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.resetAll=t.raceAll=t.stopDriving=t.startDriving=t.stopAnimation=t.animation=t.getDistance=void 0;const r=n(6738),i=n(6612),s=n(3822),o=n(7748),c=n(223),d=n(1350),l=n(4748),u=e=>{const{top:t,left:n,width:a,height:r}=e.getBoundingClientRect();return{x:n+a/2,y:t+r/2}};t.getDistance=(e,t)=>{const n=u(e),a=u(t);return Math.hypot(n.x-a.x,n.y-a.y)},t.animation=(e,t,n)=>{let a;const r={id:-1},s=Number(e.id.slice(i.CHAR_INDEX)),o={carId:s,animationId:r.id},c=i=>{if(a||(a=i),a){const d=i-a,l=Math.round(d*(t/n)),u=40;e.style.transform=`translateX(${Math.min(l,t-u)}px)`,l<t&&(r.id=window.requestAnimationFrame(c),o.animationId=r.id,localStorage.setItem(`carAnimationState-${s}`,JSON.stringify(o)))}};return r.id=window.requestAnimationFrame(c),r},t.stopAnimation=e=>{const t=e.id.slice(i.CHAR_INDEX),n=JSON.parse(localStorage.getItem(`carAnimationState-${t}`)||"{}");window.cancelAnimationFrame(n.animationId),e.style.transform="translateX(0)"},t.startDriving=(e,n,r,s,c)=>a(void 0,void 0,void 0,(function*(){n&&r&&(n.classList.toggle("disabled",!0),r.classList.toggle("disabled",!1));const a=yield(0,o.startEngine)(e),d=Math.round(a.distance/a.velocity);let l,u={id:-1};s&&c&&(l=Math.floor((0,t.getDistance)(s,c))+i.DISTANCE_AFTER_FLAG,u=(0,t.animation)(s,l,d));const h=yield(0,o.driveMode)(e);return!h.success&&u&&window.cancelAnimationFrame(u.id),localStorage.removeItem(`carAnimationState-${e}`),{success:h.success,id:e,time:d}})),t.stopDriving=(e,n,r,i)=>a(void 0,void 0,void 0,(function*(){n&&r&&(n.classList.toggle("disabled",!1),r.classList.toggle("disabled",!0));const a=JSON.parse(localStorage.getItem(`carAnimationState-${e}`)||"{}");(0,t.stopAnimation)(i),yield(0,o.stopEngine)(e),i&&(i.style.transform="translateX(0)"),window.cancelAnimationFrame(a.animationId)})),t.raceAll=(e,n)=>a(void 0,void 0,void 0,(function*(){localStorage.setItem("isRaceStopped","false");const o=JSON.parse(localStorage.getItem("asyncRaceData")||"{}").pageNumber,u=yield(0,c.getCars)(o);let h=!1;u.cars.forEach((o=>a(void 0,void 0,void 0,(function*(){const c=o.id,u=document.getElementById(`car-img-${c}`),p=document.getElementById(`img-flag-${c}`),m=document.getElementById(`a-btn-${c}`),g=document.getElementById(`b-btn-${c}`);if(u&&p&&e&&n){const e=yield(0,t.startDriving)(c,m,g,u,p);if(e.time&&!h){const t=Number((e.time/i.MILLISEC_IN_SEC).toFixed(i.NUMS_AFTER_DEC_POINT)),n={name:o.name,car:u.id,time:t},p=localStorage.getItem("isRaceStopped");!0===e.success&&!h&&t&&"false"===p&&(localStorage.setItem("raceWinnersData",JSON.stringify(n)),h=!0,new r.WinnerModal(o.name,t).render(document.body),((e,t)=>{a(void 0,void 0,void 0,(function*(){const n=JSON.parse(localStorage.getItem("winnersPageData")||"{}"),a=(yield(0,d.getWinners)(n.pageNumber)).winners.find((t=>t.id===e));if(void 0===a)yield(0,s.addWinner)({id:e,wins:1,time:t});else{const n=1;yield(0,l.updateWinner)(e,{wins:a.wins+n,time:a.time>t?t:a.time})}}))})(c,t))}}})))),e.classList.toggle("disabled",!0)})),t.resetAll=(e,n)=>a(void 0,void 0,void 0,(function*(){localStorage.setItem("isRaceStopped","true");const r=JSON.parse(localStorage.getItem("asyncRaceData")||"{}").pageNumber;(yield(0,c.getCars)(r)).cars.forEach((e=>a(void 0,void 0,void 0,(function*(){const n=e.id,a=document.getElementById(`car-img-${n}`),r=document.getElementById(`a-btn-${n}`),i=document.getElementById(`b-btn-${n}`);a&&((0,t.stopAnimation)(a),yield(0,t.stopDriving)(n,r,i,a))})))),e&&n&&e.classList.toggle("disabled",!1),localStorage.removeItem("raceWinnersData")}))},7748:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.driveMode=t.stopEngine=t.startEngine=void 0;const r=n(6612);t.startEngine=e=>a(void 0,void 0,void 0,(function*(){const t=yield fetch(`${r.BASE_URL}/engine?id=${e}&status=started`,{method:"PATCH"});return yield t.json()})),t.stopEngine=e=>a(void 0,void 0,void 0,(function*(){const t=yield fetch(`${r.BASE_URL}/engine?id=${e}&status=stopped`,{method:"PATCH"});return yield t.json()})),t.driveMode=e=>a(void 0,void 0,void 0,(function*(){const t=yield fetch(`${r.BASE_URL}/engine?id=${e}&status=drive`,{method:"PATCH"});let n;return n=t.status===r.SUCCESS_RESPONSE_CODE?Object.assign({},yield t.json()):{success:!1},n}))},4968:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createCar=void 0;const r=n(6612);t.createCar=(e,t)=>a(void 0,void 0,void 0,(function*(){const n=yield fetch(`${r.BASE_URL}/garage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,color:t})});return{cars:yield n.json(),carsNumber:Number(n.headers.get("X-Total-Count"))}}))},891:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCar=void 0;const r=n(6612);t.deleteCar=e=>a(void 0,void 0,void 0,(function*(){yield fetch(`${r.BASE_URL}/garage/${e}`,{method:"DELETE"})}))},9466:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteWinner=void 0;const r=n(6612);t.deleteWinner=e=>a(void 0,void 0,void 0,(function*(){yield fetch(`${r.BASE_URL}/winners/${e}`,{method:"DELETE"})}))},8845:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.generateHundredCars=t.generateOneCar=void 0;const r=n(5046),i=n(6612),s=n(4968),o=()=>{const e=Object.keys(r.carModels).length,t=Math.floor(Math.random()*e),n=Object.keys(r.carModels)[t],a=Object.values(r.carModels)[t].length,s=Math.floor(Math.random()*a);return{randomCarBrand:n,randomCarModel:Object.values(r.carModels)[t][s],randomColor:`#${Math.floor(Math.random()*i.HEX_COLORS_COUNT).toString(i.HEX)}`}};t.generateOneCar=(e,t)=>a(void 0,void 0,void 0,(function*(){const n=o();""===e.value&&t.value===i.DEFAULT_CAR_COLOR?yield(0,s.createCar)(`${n.randomCarBrand} ${n.randomCarModel}`,n.randomColor):""===e.value&&t.value!==i.DEFAULT_CAR_COLOR?yield(0,s.createCar)(`${n.randomCarBrand} ${n.randomCarModel}`,t.value):""!==e.value&&t.value===i.DEFAULT_CAR_COLOR?yield(0,s.createCar)(e.value,n.randomColor):yield(0,s.createCar)(e.value,t.value),e.value="",t.value=i.DEFAULT_CAR_COLOR})),t.generateHundredCars=()=>{for(let e=0;e<i.ADD_CARS_PER_CLICK;e++){const e=o();(0,s.createCar)(`${e.randomCarBrand} ${e.randomCarModel}`,e.randomColor)}}},223:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getCars=void 0;const r=n(6612);t.getCars=e=>a(void 0,void 0,void 0,(function*(){const t=e?yield fetch(`${r.BASE_URL}/garage?_page=${e}&_limit=${r.CARS_PER_PAGE}`):yield fetch(`${r.BASE_URL}/garage`),n=yield t.json();return{cars:n,carsNumber:e?Number(t.headers.get("X-Total-Count")):n.length}}))},4360:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentCar=void 0;const r=n(6612);t.getCurrentCar=e=>a(void 0,void 0,void 0,(function*(){const t=yield fetch(`${r.BASE_URL}/garage/${e}`),n=yield t.json();return yield localStorage.setItem("currentCarData",yield JSON.stringify({name:n.name,color:n.color,id:n.id})),n}))},1350:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getWinners=void 0;const r=n(6612);t.getWinners=(e,...t)=>a(void 0,[e,...t],void 0,(function*(e,t="id",n="ASC"){const a=yield fetch(`${r.BASE_URL}/winners?_page=${e}&_limit=${r.WINNERS_PER_PAGE}&_sort=${t}&_order=${n}`);return{winners:yield a.json(),winnersNumber:Number(a.headers.get("X-Total-Count"))}}))},8401:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateCar=void 0;const r=n(6612);t.updateCar=(e,t)=>a(void 0,void 0,void 0,(function*(){yield fetch(`${r.BASE_URL}/garage/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}))},8682:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateRaceContent=void 0;const r=n(1586),i=n(5064),s=n(1673),o=n(223);t.updateRaceContent=(e,t,n,c)=>a(void 0,void 0,void 0,(function*(){const a=JSON.parse(localStorage.getItem("asyncRaceData")||"{}"),d=(yield(0,o.getCars)(a.pageNumber)).carsNumber;e&&(e.innerHTML="",(yield(0,o.getCars)(a.pageNumber)).cars.forEach((t=>new s.RaceLine(t.name,t.color,t.id).render(e)))),t&&(t.innerHTML="",new r.PageInfo("Garage",d,n).render(t)),c&&(c.innerHTML="",new i.PaginationRaceButtons(t,e).render(c))}))},4748:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateWinner=void 0;const r=n(6612);t.updateWinner=(e,t)=>a(void 0,void 0,void 0,(function*(){yield fetch(`${r.BASE_URL}/winners/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}))},8179:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateWinnersThead=t.updateWinnersContent=void 0;const r=n(1586),i=n(973),s=n(9827),o=n(6612),c=n(4360),d=n(1350);t.updateWinnersContent=(e,t,n,l)=>a(void 0,void 0,void 0,(function*(){if(e)if(localStorage.getItem("winnersPageData")){if(t){const n=JSON.parse(localStorage.getItem("winnersSortData")||"{}"),r=yield(0,d.getWinners)(t,n.sort,n.order);e.innerHTML="";let i=1;r.winners.forEach((n=>a(void 0,void 0,void 0,(function*(){const a=yield(0,c.getCurrentCar)(n.id);new s.WinnersRow(t>o.FIRST_PAGE?i+(t-o.FIRST_PAGE)*o.WINNERS_PER_PAGE:i,a,n.wins,n.time).render(e),i++}))))}}else localStorage.setItem("winnersPageData",JSON.stringify({pageNumber:1}));if(n){const e=JSON.parse(localStorage.getItem("winnersPageData")||"{}"),t=yield(0,d.getWinners)(e.pageNumber);n.innerHTML="",new r.PageInfo("Winners",t.winnersNumber,e.pageNumber).render(n)}l&&(l.innerHTML="",n&&new i.PaginationWinnersButtons(n).render(l))})),t.updateWinnersThead=(e,t)=>{const n=JSON.parse(localStorage.getItem("winnersSortData")||"{}");e.textContent=`Wins ${n.arrowWin}`,t.textContent=`Best time ${n.arrowTime}`}},4130:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor({tag:e="div",styles:t=[],id:n}){this.element=document.createElement(e),this.element.classList.add(...t),n&&(this.element.id=n)}}},232:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;const a=n(4130);n(7036);const r={tag:"button",styles:["btn"]};class i extends a.BaseComponent{constructor(e){super(r),this.element.textContent=e.name,this.element.classList.add(...e.styles),e.id&&(this.element.id=e.id)}render(e){return e.append(this.element),this.element}}t.Button=i},3558:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Car=void 0;const a=n(4130);n(6586);const r={tag:"div",styles:["car"]};class i extends a.BaseComponent{constructor(e,t){super(r),this.element.setAttribute("id",`car-img-${t}`),this.element.innerHTML=`\n      <svg xmlns="http://www.w3.org/2000/svg" class="car-svg" viewBox="0 0 512 470">\n        <g>\n          <path class="car-wheel" \n          d="M120,236a52,52,0,1,0,52,52A52.059,52.059,0,0,0,120,236Zm0,76a24,24,0,1,1,24-24A24,24,0,0,1,120,312Z" />\n          <path class="car-wheel" \n          d="M408,236a52,52,0,1,0,52,52A52.059,52.059,0,0,0,408,236Zm0,76a24,24,0,1,1,24-24A24,24,0,0,1,408,312Z" />\n          <path style="fill: ${e}" \n          d="M477.4,193.04,384,176l-79.515-65.975A44.109,44.109,0,0,0,276.526,100H159.38a43.785,43.785,0,0,0-34.359,\n          16.514L74.232,176H40A36.04,36.04,0,0,0,4,212v44a44.049,44.049,0,0,0,44,44h9.145a64,64,0,1,1,125.71,\n          0h162.29a64,64,0,1,1,125.71,0H472a36.04,36.04,0,0,0,36-36V228.632A35.791,35.791,0,0,0,477.4,193.04ZM180,\n          164a12,12,0,0,1-12,12H115.245a6,6,0,0,1-4.563-9.9l34.916-40.9A12,12,0,0,1,154.724,121H168a12,12,0,0,1,12,\n          12Zm60,56H224a12,12,0,0,1,0-24h16a12,12,0,0,1,0,24Zm94.479-43.706-114.507-.266a12,12,0,0,1-11.972-12V133a12,\n          12,0,0,1,12-12h57.548a12,12,0,0,1,7.433,2.58l53.228,42A6,6,0,0,1,334.479,176.294Z" />\n        </g>\n      </svg>`}render(e){return e.append(this.element),this.element}}t.Car=i},4514:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const a=n(6299),r=n(4130),i=n(232);n(8582);const s={tag:"div",styles:["header-nav"]},o={name:"Garage",styles:["garage-btn","active"],id:(0,a.checkId)("garage-btn")},c={name:"Winners",styles:["winners-btn"],id:(0,a.checkId)("winners-btn")};class d extends r.BaseComponent{constructor(){super(s),this.garageBtn=new i.Button(o).render(this.element),o.id&&(this.garageBtn.id=o.id),this.winnersBtn=new i.Button(c).render(this.element),c.id&&(this.winnersBtn.id=c.id),this.init()}init(){this.element.addEventListener("click",(e=>{e.target===this.garageBtn&&(this.garageBtn.classList.add("active"),this.winnersBtn.classList.remove("active")),e.target===this.winnersBtn&&(this.winnersBtn.classList.add("active"),this.garageBtn.classList.remove("active"))}))}render(e){return e.append(this.element),this.element}}t.Header=d},7138:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Logo=void 0;const r=a(n(7503)),i=n(4130);n(9566);const s={tag:"div",styles:["logo-wrapper","active"]};class o extends i.BaseComponent{constructor(){super(s);const e=new Image;e.src=r.default,e.alt="logo",e.classList.add("logo-img"),this.element.append(e)}render(e){return e.append(this.element),this.element}}t.Logo=o},8706:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MainContent=void 0;const r=n(8179),i=n(9876),s=n(560),o=n(4130),c=n(4514);n(5801);const d={tag:"div",styles:["main-content"]};class l extends o.BaseComponent{constructor(e){super(d),this.garage=(new i.GaragePage).render(this.element),this.winners=(new s.WinnersPage).render(this.element),this.init(e)}init(e){const t=new c.Header;document.addEventListener("click",(n=>a(this,void 0,void 0,(function*(){if(n.target instanceof Element&&(n.target.id===t.garageBtn.id&&((yield this.garage).classList.toggle("active"),(yield this.winners).classList.toggle("active"),e.classList.add("active")),n.target.id===t.winnersBtn.id)){(yield this.winners).classList.toggle("active"),(yield this.garage).classList.toggle("active"),e.classList.remove("active");const t=document.getElementById("winners-tbody"),n=document.getElementById("winners-info-wrapper"),a=document.getElementById("pagination-winners-wrapper");t&&n&&a&&(yield(0,r.updateWinnersContent)(t,JSON.parse(localStorage.winnersPageData).pageNumber,n,a))}}))))}render(e){return e.append(this.element),this.element}}t.MainContent=l},8315:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CreateCarForm=void 0;const r=n(8845),i=n(6612),s=n(6299),o=n(4130),c=n(232),d=n(213);n(7459);const l={tag:"form",styles:["create-car-form"],id:(0,s.checkId)("create-car-form")},u={id:(0,s.checkId)("create-car-name"),type:"text",placeholder:"Enter car name here",styles:["create-car-name"]},h={id:(0,s.checkId)("create-car-color"),type:"color",value:i.DEFAULT_CAR_COLOR,styles:["create-car-color"]},p={name:"Create",styles:["create-car-btn"],id:(0,s.checkId)("create-car-btn")};class m extends o.BaseComponent{constructor(){super(l);const e=new d.OptionInput(u).render(this.element),t=new d.OptionInput(h).render(this.element),n=new c.Button(p).render(this.element);this.init(n,e,t)}init(e,t,n){e.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){e.preventDefault(),(0,r.generateOneCar)(t,n)}))))}render(e){return e.append(this.element),this.element}}t.CreateCarForm=m},213:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionInput=void 0;const a=n(4130);n(8377);const r={tag:"input",styles:["option-input"]};class i extends a.BaseComponent{constructor(e){super(r),this.element.id=e.id,e.styles&&this.element.classList.add(...e.styles),this.element.setAttribute("type",e.type),e.placeholder&&this.element.setAttribute("placeholder",e.placeholder),e.value&&this.element.setAttribute("value",e.value)}render(e){return e.append(this.element),this.element}}t.OptionInput=i},4890:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CarOptions=void 0;const a=n(4130),r=n(8315);n(5070);const i=n(7715),s={tag:"div",styles:["car-options"]};class o extends a.BaseComponent{constructor(){super(s),(new r.CreateCarForm).render(this.element),(new i.UpdateCarForm).render(this.element)}render(e){return e.append(this.element),this.element}}t.CarOptions=o},7715:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateCarForm=void 0;const r=n(8401),i=n(6612),s=n(6299),o=n(4130),c=n(232),d=n(213);n(3603);const l={tag:"form",styles:["update-car-form"],id:(0,s.checkId)("update-car-form")},u={id:(0,s.checkId)("update-car-name"),type:"text",placeholder:"Enter new car name here for update",styles:["update-car-name"]},h={id:(0,s.checkId)("update-car-color"),type:"color",value:i.DEFAULT_CAR_COLOR,styles:["update-car-color"]},p={name:"Update",styles:["update-car-btn","disabled"],id:(0,s.checkId)("update-car-btn")};class m extends o.BaseComponent{constructor(){super(l);const e=new d.OptionInput(u).render(this.element),t=new d.OptionInput(h).render(this.element),n=new c.Button(p).render(this.element);this.init(e,t,n)}init(e,t,n){document.addEventListener("click",(a=>{setTimeout((()=>{if(a.target.id.includes("select-btn")){const a=JSON.parse(localStorage.getItem("currentCarData")||"{}");e.value=a.name,t.value=a.color,n.classList.remove("disabled")}}),100)})),n.addEventListener("click",(s=>a(this,void 0,void 0,(function*(){s.preventDefault();const a=JSON.parse(localStorage.getItem("currentCarData")||"{}");yield(0,r.updateCar)(a.id,{name:e.value,color:t.value}),n.classList.add("disabled"),e.value="",t.value=i.DEFAULT_CAR_COLOR}))))}render(e){return e.append(this.element),this.element}}t.UpdateCarForm=m},1586:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PageInfo=void 0;const a=n(4130);n(5726);const r=n(8943),i=n(6807),s={tag:"div",styles:["page-info"]};class o extends a.BaseComponent{constructor(e,t,n){super(s),this.pageName=new r.PageName(`${e} (${t})`).render(this.element),this.pageNumber=new i.PageNumber(`Page #${n}`).render(this.element)}render(e){return e&&e.append(this.element),this.element}}t.PageInfo=o},8943:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PageName=void 0;const a=n(4130);n(71);const r={tag:"h2",styles:["page-name"]};class i extends a.BaseComponent{constructor(e){super(r),this.element.textContent=e}render(e){return e.append(this.element),this.element}}t.PageName=i},6807:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PageNumber=void 0;const a=n(4130);n(7239);const r={tag:"h3",styles:["page-number"]};class i extends a.BaseComponent{constructor(e){super(r),this.element.textContent=e}render(e){return e.append(this.element),this.element}}t.PageNumber=i},5064:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PaginationRaceButtons=void 0;const r=n(223),i=n(8682),s=n(6612),o=n(6299),c=n(4857),d=n(4130),l=n(232);n(2040);const u={tag:"div",styles:["pagination-btn-wrapper"]},h={name:"Prev",styles:["prev-btn"],id:(0,o.checkId)("prev-btn")},p={name:"Next",styles:["next-btn"],id:(0,o.checkId)("next-btn")};class m extends d.BaseComponent{constructor(e,t,n){super(u),e&&(this.pageInfoWrapper=e),t&&(this.raceFieldWrapper=t),n&&(this.paginationBtnWrapper=n),this.prevBtn=new l.Button(h).render(this.element),this.nextBtn=new l.Button(p).render(this.element)}prevBtnInit(){this.prevBtn.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){const e=yield(0,r.getCars)();this.nextBtn.classList.remove("disabled"),JSON.parse(localStorage.asyncRaceData).pageNumber>s.FIRST_PAGE&&(c.raceData.pageNumber=JSON.parse(localStorage.asyncRaceData).pageNumber,c.raceData.pageNumber-=1,localStorage.setItem("asyncRaceData",JSON.stringify(c.raceData)),this.raceFieldWrapper&&this.pageInfoWrapper&&JSON.parse(localStorage.asyncRaceData).pageNumber&&(yield(0,i.updateRaceContent)(this.raceFieldWrapper,this.pageInfoWrapper,JSON.parse(localStorage.asyncRaceData).pageNumber)),e.carsNumber!==s.CARS_PER_PAGE&&e.carsNumber/s.CARS_PER_PAGE!==JSON.parse(localStorage.asyncRaceData).pageNumber||this.nextBtn.classList.add("disabled")),JSON.parse(localStorage.asyncRaceData).pageNumber===s.FIRST_PAGE&&this.prevBtn.classList.add("disabled")}))))}nextBtnInit(){this.nextBtn.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){this.prevBtn.classList.remove("disabled");const e=yield(0,r.getCars)();JSON.parse(localStorage.asyncRaceData).pageNumber<e.carsNumber/s.CARS_PER_PAGE&&(c.raceData.pageNumber=JSON.parse(localStorage.asyncRaceData).pageNumber,c.raceData.pageNumber+=1,localStorage.setItem("asyncRaceData",JSON.stringify(c.raceData)),this.raceFieldWrapper&&this.pageInfoWrapper&&JSON.parse(localStorage.asyncRaceData).pageNumber&&(yield(0,i.updateRaceContent)(this.raceFieldWrapper,this.pageInfoWrapper,JSON.parse(localStorage.asyncRaceData).pageNumber))),e.carsNumber!==s.CARS_PER_PAGE&&Math.ceil(e.carsNumber/s.CARS_PER_PAGE)!==JSON.parse(localStorage.asyncRaceData).pageNumber||this.nextBtn.classList.add("disabled")}))))}render(e){return a(this,void 0,void 0,(function*(){const t=yield(0,r.getCars)(),n=JSON.parse(localStorage.getItem("asyncRaceData")||"{}");return n.pageNumber===s.FIRST_PAGE&&this.prevBtn.classList.add("disabled"),n.pageNumber>=Math.ceil(t.carsNumber/s.CARS_PER_PAGE)&&this.nextBtn.classList.add("disabled"),this.prevBtnInit(),this.nextBtnInit(),e.append(this.element),{prev:this.prevBtn,next:this.nextBtn}}))}}t.PaginationRaceButtons=m},973:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PaginationWinnersButtons=void 0;const r=n(1350),i=n(8179),s=n(6612),o=n(6299),c=n(4857),d=n(4130),l=n(232);n(2040);const u={tag:"div",styles:["pagination-btn-wrapper"]},h={name:"Prev",styles:["prev-btn"],id:(0,o.checkId)("prev-winner-btn")},p={name:"Next",styles:["next-btn"],id:(0,o.checkId)("next-winner-btn")};class m extends d.BaseComponent{constructor(e){super(u),this.pageInfoWrapper=e,this.prevBtn=new l.Button(h).render(this.element),this.nextBtn=new l.Button(p).render(this.element)}prevBtnInit(){this.prevBtn.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){const e=yield(0,r.getWinners)(JSON.parse(localStorage.getItem("winnersPageData")||"{}").pageNumber);if(yield(0,r.getWinners)(JSON.parse(localStorage.getItem("winnersPageData")||"{}").pageNumber),this.nextBtn.classList.remove("disabled"),JSON.parse(localStorage.winnersPageData).pageNumber>s.FIRST_PAGE){c.winnersData.pageNumber=JSON.parse(localStorage.winnersPageData).pageNumber,c.winnersData.pageNumber-=1,localStorage.setItem("winnersPageData",JSON.stringify(c.winnersData));const t=document.getElementById("winners-tbody");t&&(yield(0,i.updateWinnersContent)(t,c.winnersData.pageNumber,this.pageInfoWrapper)),e.winnersNumber!==s.WINNERS_PER_PAGE&&e.winnersNumber/s.WINNERS_PER_PAGE!==JSON.parse(localStorage.winnersPageData).pageNumber||this.nextBtn.classList.add("disabled")}JSON.parse(localStorage.winnersPageData).pageNumber===s.FIRST_PAGE&&this.prevBtn.classList.add("disabled")}))))}nextBtnInit(){this.nextBtn.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){this.prevBtn.classList.remove("disabled");const e=yield(0,r.getWinners)(JSON.parse(localStorage.getItem("winnersPageData")||"{}").pageNumber);if(JSON.parse(localStorage.winnersPageData).pageNumber<e.winnersNumber/s.WINNERS_PER_PAGE){c.winnersData.pageNumber=JSON.parse(localStorage.winnersPageData).pageNumber,c.winnersData.pageNumber+=1,localStorage.setItem("winnersPageData",JSON.stringify(c.winnersData));const e=document.getElementById("winners-tbody");e&&(yield(0,i.updateWinnersContent)(e,c.winnersData.pageNumber,this.pageInfoWrapper))}e.winnersNumber!==s.WINNERS_PER_PAGE&&Math.ceil(e.winnersNumber/s.WINNERS_PER_PAGE)!==JSON.parse(localStorage.winnersPageData).pageNumber||this.nextBtn.classList.add("disabled")}))))}render(e){return a(this,void 0,void 0,(function*(){const t=yield(0,r.getWinners)(JSON.parse(localStorage.getItem("winnersPageData")||"{}").pageNumber),n=JSON.parse(localStorage.getItem("winnersPageData")||"{}");return n.pageNumber===s.FIRST_PAGE&&this.prevBtn.classList.add("disabled"),n.pageNumber>=Math.ceil(t.winnersNumber/s.WINNERS_PER_PAGE)&&this.nextBtn.classList.add("disabled"),this.prevBtnInit(),this.nextBtnInit(),e.append(this.element),{prev:this.prevBtn,next:this.nextBtn}}))}}t.PaginationWinnersButtons=m},9454:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RaceButtons=void 0;const r=n(8182),i=n(8845),s=n(6299),o=n(4130),c=n(232);n(5190);const d={tag:"div",styles:["race-buttons"]},l={name:"Race",styles:["race-btn"],id:(0,s.checkId)("race-btn")},u={name:"Reset",styles:["reset-btn"],id:(0,s.checkId)("reset-btn")},h={name:"Generate cars",styles:["generate-cars-btn"],id:(0,s.checkId)("generate-cars-btn")};class p extends o.BaseComponent{constructor(){super(d),this.raceCars=new c.Button(l).render(this.element),this.resetCars=new c.Button(u).render(this.element),this.resetCars.classList.add("disabled"),this.generateCars=new c.Button(h).render(this.element),this.init()}init(){this.generateCars.addEventListener("click",(e=>{e.preventDefault(),(0,i.generateHundredCars)()})),this.raceCars.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){e.preventDefault(),yield(0,r.raceAll)(this.raceCars,this.resetCars),this.raceCars.classList.add("disabled"),this.resetCars.classList.remove("disabled")})))),this.resetCars.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){e.preventDefault(),yield(0,r.resetAll)(this.raceCars,this.resetCars),this.resetCars.classList.add("disabled"),this.raceCars.classList.remove("disabled")}))))}render(e){return e.append(this.element),this.element}}t.RaceButtons=p},9664:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RaceField=void 0;const r=n(223),i=n(4130);n(7348);const s=n(1673),o={tag:"div",styles:["race-field"]};class c extends i.BaseComponent{constructor(){super(o)}render(e){return a(this,void 0,void 0,(function*(){const t=JSON.parse(localStorage.getItem("asyncRaceData")||"{}").pageNumber;return(yield(0,r.getCars)(t)).cars.forEach((e=>{new s.RaceLine(e.name,e.color,e.id).render(this.element)})),e&&e.append(this.element),this.element}))}}t.RaceField=c},1673:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RaceLine=void 0;const i=n(8182),s=n(891),o=n(9466),c=n(4360),d=r(n(8636)),l=n(6299),u=n(4130),h=n(232),p=n(3558);n(4743);const m={tag:"div",styles:["race-line"]},g={name:"Remove",styles:["remove-btn"],id:(0,l.checkId)("remove-btn")};class v extends u.BaseComponent{constructor(e,t,n){super(m),this.name=e,this.color=t,this.id=n;const a=document.createElement("div");a.classList.add("car-race-btn-wrapper"),this.element.append(a);const r=document.createElement("div");r.classList.add("car-select-wrapper"),a.append(r);const i=document.createElement("div");i.classList.add("car-engine-wrapper"),a.append(i);const s=new h.Button({name:"Select",styles:["select-btn"],id:`select-btn-${n}`}).render(r),o=new h.Button(g).render(r),c=new h.Button({name:"A",styles:["a-btn"],id:`a-btn-${n}`}).render(i),l=new h.Button({name:"B",styles:["b-btn","disabled"],id:`b-btn-${n}`}).render(i),u=new Image;u.src=d.default,u.alt="flag",u.classList.add("flag-img"),u.id=`img-flag-${n}`,this.element.append(u);const v=new p.Car(this.color,this.id).render(this.element);this.init(o,s,c,l,v,u)}init(e,t,n,r,d,l){e.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){yield(0,s.deleteCar)(this.id),yield(0,o.deleteWinner)(this.id)})))),t.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){e.target.id===`select-btn-${this.id}`&&(yield(0,c.getCurrentCar)(this.id))})))),n.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){yield(0,i.startDriving)(this.id,n,r,d,l)})))),r.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){yield(0,i.stopDriving)(this.id,n,r,d)}))))}render(e){const t=document.createElement("div");return t.textContent=this.name,t.classList.add("car-name"),this.element.append(t),e.append(this.element),this.element}}t.RaceLine=v},6738:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WinnerModal=void 0;const a=n(6612),r=n(4130);n(6478);const i={tag:"div",styles:["window-modal"]};class s extends r.BaseComponent{constructor(e,t){super(i),this.textWrapper=document.createElement("div"),this.textWrapper.classList.add("modal-text-wrapper"),this.element.append(this.textWrapper),this.textWrapper.innerHTML=`${e} finished first (${t} sec)!`}render(e){return e.append(this.element),setTimeout((()=>{this.element.remove()}),a.DISPLAY_MODAL_TIME),this.element}}t.WinnerModal=s},9827:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WinnersRow=void 0;const r=n(4130),i=n(3558);n(2020);const s={tag:"tr",styles:["winners-row"]};class o extends r.BaseComponent{constructor(e,t,n,a){super(s),this.tdNumber=document.createElement("td"),this.tdNumber.textContent=`${e}`,this.tdCar=document.createElement("td"),new i.Car(t.color).render(this.tdCar),this.tdName=document.createElement("td"),this.tdName.textContent=`${t.name}`,this.tdWins=document.createElement("td"),this.tdWins.textContent=`${n}`,this.tdTime=document.createElement("td"),this.tdTime.textContent=`${a}`,this.element.append(this.tdNumber,this.tdCar,this.tdName,this.tdWins,this.tdTime)}render(e){return a(this,void 0,void 0,(function*(){return e.append(this.element),this.element}))}}t.WinnersRow=o},4730:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WinnersTable=void 0;const r=n(8179),i=n(4130);n(1878);const s={tag:"div",styles:["winners-table-wrapper"]};class o extends i.BaseComponent{constructor(){super(s),this.table=document.createElement("table"),this.thead=document.createElement("thead"),this.tbody=document.createElement("tbody"),this.tbody.id="winners-tbody",this.thNumber=document.createElement("th"),this.thNumber.textContent="№",this.thCar=document.createElement("th"),this.thCar.textContent="Car",this.thName=document.createElement("th"),this.thName.textContent="Name",this.thWins=document.createElement("th"),this.thWins.id="th-wins",this.thWins.classList.add("th-wins"),this.thTime=document.createElement("th"),this.thTime.id="th-time",this.thTime.classList.add("th-time"),this.element.append(this.table),this.table.append(this.thead,this.tbody),this.thead.append(this.thNumber,this.thCar,this.thName,this.thWins,this.thTime),localStorage.getItem("winnersSortData")||localStorage.setItem("winnersSortData",JSON.stringify({sort:"id",order:"ASC",arrowTime:"",arrowWin:""}))}thWinsInit(e,t){"th-wins"===e.id&&("ASC"===t.order?(t.order="DESC",t.arrowTime="",t.arrowWin="▼",localStorage.setItem("winnersSortData",JSON.stringify({sort:"wins",order:t.order,arrowTime:t.arrowTime,arrowWin:t.arrowWin}))):(t.order="ASC",t.arrowTime="",t.arrowWin="▲",localStorage.setItem("winnersSortData",JSON.stringify({sort:"wins",order:t.order,arrowTime:t.arrowTime,arrowWin:t.arrowWin}))))}thTimeInit(e,t){"th-time"===e.id&&("ASC"===t.order?(t.order="DESC",t.arrowTime="▼",t.arrowWin="",localStorage.setItem("winnersSortData",JSON.stringify({sort:"time",order:t.order,arrowTime:t.arrowTime,arrowWin:t.arrowWin}))):(t.order="ASC",t.arrowTime="▲",t.arrowWin="",localStorage.setItem("winnersSortData",JSON.stringify({sort:"time",order:t.order,arrowTime:t.arrowTime,arrowWin:t.arrowWin}))))}init(){const e=JSON.parse(localStorage.getItem("winnersSortData")||"{}");this.thWins.textContent=`Wins ${e.arrowWin}`,this.thTime.textContent=`Best time ${e.arrowTime}`,this.thead.addEventListener("click",(t=>{const n=t.target;if(this.thWinsInit(n,e),this.thTimeInit(n,e),"th-time"===n.id||"th-wins"===n.id){(0,r.updateWinnersThead)(this.thWins,this.thTime);const e=document.getElementById("winners-tbody"),t=JSON.parse(localStorage.getItem("winnersPageData")||"{}");e&&(0,r.updateWinnersContent)(e,t.pageNumber)}}))}render(e){return a(this,void 0,void 0,(function*(){this.init();const t=JSON.parse(localStorage.getItem("winnersPageData")||"{}");return yield(0,r.updateWinnersContent)(this.tbody,t.pageNumber),e.append(this.element),this.element}))}}t.WinnersTable=o},5046:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.carModels=void 0,t.carModels={Suzuki:["Grand Vitara","Jimny","Aerio","Alto","Cappuccino","Celerio","Dzire","Equator"],Lexus:["CT","ES","GS","GX","IS","LC","LS"],Kia:["Cadenza","Forte","Forte Koup","Forte5","K5","K900","Niro","Optima"],Subaru:["Ascent","BRZ","Crosstrek","Forester","Impreza","Legacy"],Mazda:["CX-3","CX-30","CX-5","CX-9","MAZDA3","MAZDA6"],Toyota:["4Runner","86","Avalon","C-HR","Camry"],Honda:["Accord","CR-V","CR-Z","Civic"],Mitsubishi:["Eclipse","Lancer","Mirage","Mirage G4","Outlander","i-MiEV"],Volvo:["S60","S80","S90","V60","V90","XC40","XC60","XC70","XC90"],Volkswagen:["Fox","Golf","Santana","Polo","Jetta","Passat","Phideon","Voyage","Tiguan","Touareg"],Ford:["Bronco Sport","C-MAX","EcoSport","Edge","Escape"],Chevrolet:["Blazer","Bolt EV","Camaro","City Express","Corvette"],Dodge:["Challenger","Charger","Dart","Durango","Journey","Viper"],Nissan:["370Z","Altima","Armada","GT-R"],Ferrari:["488 GTB","812 Superfast","California","FF","GTC4Lusso","Portofino"],Lamborghini:["Aventador","Huracan"],McLaren:["570GT","570S","650S","675LT","720S"],Maserati:["Ghibli","GranTurismo","Levante","Quattroporte"],Hyundai:["Accent","HB20","Santro","Aura","Celesta","Elantra","Lafesta","Mistra","Reina","Sonata"],Porsche:["718 Boxster","718 Cayman","911","Boxster","Cayenne","Cayman","Macan"],BMW:["2","3","4","5","6","7","8","M4","M5","X1","X3","X7","Z4","i3","i8"],Audi:["A5","A6","A7","A8","Q3","Q5","Q7","Q8","S5","S6","SQ5","TT","e-tron"],Jaguar:["E-PACE","F-TYPE","F-PACE","I-PACE","XE","XF","XJ"],Acura:["ILX","MDX","NSX","RDX","RLX","TLX"],Fiat:["124 Spider","500","500L","500X","500c","500e","500 Abarth","500c Abarth"],VAZ:["2101","2102","2103","2104","2105","2106","2107","2108"]}},6612:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DISPLAY_MODAL_TIME=t.ADD_CARS_PER_CLICK=t.DISTANCE_AFTER_FLAG=t.CHAR_INDEX=t.NUMS_AFTER_DEC_POINT=t.MILLISEC_IN_SEC=t.SUCCESS_RESPONSE_CODE=t.DEFAULT_CAR_COLOR=t.HEX=t.HEX_COLORS_COUNT=t.FIRST_PAGE=t.WINNERS_PER_PAGE=t.CARS_PER_PAGE=t.BASE_URL=void 0,t.BASE_URL="http://127.0.0.1:3000",t.CARS_PER_PAGE=7,t.WINNERS_PER_PAGE=10,t.FIRST_PAGE=1,t.HEX_COLORS_COUNT=16777215,t.HEX=16,t.DEFAULT_CAR_COLOR="#e3e3e3",t.SUCCESS_RESPONSE_CODE=200,t.MILLISEC_IN_SEC=1e3,t.NUMS_AFTER_DEC_POINT=2,t.CHAR_INDEX=8,t.DISTANCE_AFTER_FLAG=100,t.ADD_CARS_PER_CLICK=100,t.DISPLAY_MODAL_TIME=2e3},6299:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkId=t.IDs=void 0,t.IDs=[],t.checkId=e=>{if(t.IDs.length&&t.IDs.find((t=>t===e)))throw new Error(`${e} is already exist.`);return t.IDs.push(e),e}},4857:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.winnersData=t.raceData=void 0;const a=n(6612);t.raceData={pageNumber:a.FIRST_PAGE},t.winnersData={pageNumber:a.FIRST_PAGE}},9876:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GaragePage=void 0;const r=n(223),i=n(8682),s=n(4130),o=n(4890),c=n(1586),d=n(5064),l=n(9454),u=n(9664),h=n(4857);n(6930);const p={tag:"div",styles:["garage-page","active"]};class m extends s.BaseComponent{constructor(){super(p),localStorage.getItem("asyncRaceData")||localStorage.setItem("asyncRaceData",JSON.stringify(h.raceData))}render(e){return a(this,void 0,void 0,(function*(){(new o.CarOptions).render(this.element),(new l.RaceButtons).render(this.element);const t=yield(0,r.getCars)(),n=JSON.parse(localStorage.getItem("asyncRaceData")||"{}"),s=document.createElement("div");s.classList.add("page-info-wrapper"),this.element.append(s),new c.PageInfo("Garage",t.carsNumber,n.pageNumber).render(s);const h=document.createElement("div");h.classList.add("race-field"),this.element.append(h),yield(new u.RaceField).render(h);const p=document.createElement("div");return p.classList.add("pagination-btn-wrapper"),this.element.append(p),new d.PaginationRaceButtons(s,h).render(p),e.append(this.element),document.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){const t=e.target;"remove-btn"!==t.id&&"create-car-btn"!==t.id&&"update-car-btn"!==t.id&&"generate-cars-btn"!==t.id||(yield(0,i.updateRaceContent)(h,s,JSON.parse(localStorage.getItem("asyncRaceData")||"{}").pageNumber,p),localStorage.removeItem("currentCarData"))})))),this.element}))}}t.GaragePage=m},560:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function o(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WinnersPage=void 0;const r=n(1350),i=n(4130),s=n(1586),o=n(973),c=n(4730);n(2270);const d={tag:"div",styles:["winners-page"]};class l extends i.BaseComponent{constructor(){super(d),this.pageInfoWrapper=document.createElement("div"),this.pageInfoWrapper.id="winners-info-wrapper",this.element.append(this.pageInfoWrapper),this.paginationBtnWrapper=document.createElement("div"),this.paginationBtnWrapper.id="pagination-winners-wrapper"}render(e){return a(this,void 0,void 0,(function*(){const t=JSON.parse(localStorage.getItem("winnersPageData")||"{}"),n=yield(0,r.getWinners)(t.pageNumber);return new s.PageInfo("Winners",n.winnersNumber,t.pageNumber).render(this.pageInfoWrapper),yield(new c.WinnersTable).render(this.element),this.element.append(this.paginationBtnWrapper),new o.PaginationWinnersButtons(this.pageInfoWrapper).render(this.paginationBtnWrapper),e.append(this.element),this.element}))}}t.WinnersPage=l},8636:(e,t,n)=>{e.exports=n.p+"assets/img/flag.svg"},7503:(e,t,n)=>{e.exports=n.p+"assets/img/logo.svg"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=a[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{const e=n(4514),t=n(7138),a=n(8706);n(6443);const r=(new t.Logo).render(document.body);(new e.Header).render(document.body),new a.MainContent(r).render(document.body)})()})();